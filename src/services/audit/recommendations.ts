
import { faker } from '@faker-js/faker';

/**
 * Генерирует и получает рекомендации для веб-сайта на основе его URL
 */
export const fetchRecommendations = async (url?: string): Promise<{ critical: string[]; important: string[]; opportunities: string[]; }> => {
  // Имитация получения рекомендаций из API
  return new Promise((resolve) => {
    setTimeout(() => {
      // Генерация динамических рекомендаций на основе URL
      const domain = url ? new URL(url.startsWith('http') ? url : `https://${url}`).hostname : 'example.com';
      
      resolve({
        critical: [
          `Обновите мета-описание главной страницы ${domain}`,
          `Оптимизируйте изображения для ускорения загрузки страниц`,
          `Исправьте проблемы с адаптивностью на мобильных устройствах`,
          `Добавьте или обновите HTTPS-сертификат для ${domain}`,
          `Исправьте дублирующийся контент на страницах товаров`,
          `Решите проблему с медленной загрузкой страниц в разделе "/products"`,
          `Исправьте битые ссылки в структуре навигации сайта`
        ],
        important: [
          `Добавьте alt-теги ко всем изображениям на ${domain}`,
          `Улучшите структуру заголовков (H1, H2, H3) на всех страницах`,
          `Оптимизируйте скорость загрузки страниц (особенно на мобильных устройствах)`,
          `Добавьте микроразметку Schema.org для улучшения отображения в поиске`,
          `Исправьте 404 ошибки и настройте корректные перенаправления`,
          `Улучшите навигацию и структуру меню на сайте ${domain}`,
          `Оптимизируйте ключевые слова для основных посадочных страниц`,
          `Создайте уникальные мета-описания для всех страниц`,
          `Оптимизируйте URL-структуру сайта для лучшей индексации`
        ],
        opportunities: [
          `Создайте и регулярно обновляйте карту сайта XML для ${domain}`,
          `Проведите аудит внутренних ссылок для улучшения перелинковки`,
          `Улучшите качество и уникальность контента на ключевых страницах`,
          `Добавьте раздел блога для увеличения органического трафика на ${domain}`,
          `Оптимизируйте социальные метатеги для лучшего шеринга контента`,
          `Внедрите структурированные данные для улучшения представления в поиске`,
          `Улучшите CTR страниц в поисковой выдаче через оптимизацию заголовков`,
          `Реализуйте стратегию внутренней перелинковки для передачи веса страниц`,
          `Создайте и оптимизируйте страницу FAQ для улучшения пользовательского опыта`,
          `Интегрируйте сайт с инструментами аналитики для отслеживания эффективности`
        ],
      });
    }, 800);
  });
};
